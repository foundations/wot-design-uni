import{g as e,h as s,m as l,i as a,p as o,o as t,b as c,a as u,R as n,w as r}from"./page-wraper.7cfd0783.js";import{d,v as i,q as p,N as m,h,j as b,o as x,c as f,w as g,u as k,n as V,x as y,a as v,p as $,z as S,i as _,y as C}from"./index-bc8b5b89.js";import{u as w}from"./useChildren.f02a69c0.js";const z=Symbol("wd-checkbox-group"),q={...e,modelValue:{type:Array,default:()=>[]},cell:s(!1),shape:l("circle"),checkedColor:String,disabled:s(!1),min:a(0),max:a(0),inline:s(!1),size:String},G=u(d({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,customLabelClass:l(""),customShapeClass:l(""),modelValue:{type:[String,Number,Boolean],required:!0,default:!1},shape:l("circle"),checkedColor:String,disabled:{type:[Boolean,null],default:null},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},size:String,maxWidth:String},emits:["change","update:modelValue"],setup(e,{emit:s}){const l=e,{parent:a,index:u}=o(z),n=i((()=>a?a.props.modelValue.indexOf(l.modelValue)>-1:l.modelValue===l.trueValue)),r=i((()=>0===u.value)),d=i((()=>{const e=t(a)?a.children:[];return u.value===e.length-1})),{proxy:w}=C();p((()=>l.modelValue),(()=>{a&&a&&a.children&&a.children.forEach((e=>{e.$.uid!==w.$.uid&&e.modelValue===l.modelValue&&console.error(`The checkbox's bound value: ${l.modelValue} has been used`)}))})),p((()=>l.shape),(e=>{const s=["circle","square","button"];-1===s.indexOf(e)&&console.error(`shape must be one of ${s.toString()}`)}));const q=i((()=>!l.shape&&a&&a.props.shape?a.props.shape:l.shape)),G=i((()=>!l.checkedColor&&a&&a.props.checkedColor?a.props.checkedColor:l.checkedColor)),j=i((()=>{let e=l.disabled;return a&&(a.props.max&&a.props.modelValue.length>=a.props.max&&!n.value||a.props.min&&a.props.modelValue.length<=a.props.min&&n.value||!0===l.disabled||a.props.disabled&&null===l.disabled)&&(e=!0),e})),B=i((()=>!(!a||!a.props.inline)&&a.props.inline)),I=i((()=>!(!a||!a.props.cell)&&a.props.cell)),N=i((()=>!l.size&&a&&a.props.size?a.props.size:l.size));function O(){if(!j.value)if(a)s("change",{value:!n.value}),a.changeSelectState(l.modelValue);else{const e=l.modelValue===l.trueValue?l.falseValue:l.trueValue;s("update:modelValue",e),s("change",{value:e})}}return m((()=>{null===l.modelValue&&console.error("checkbox's value must be set")})),(e,s)=>{const l=h(b("wd-icon"),c),a=_;return x(),f(a,{class:V(`wd-checkbox ${k(I)?"is-cell-box":""} ${"button"===k(q)?"is-button-box":""} ${k(n)?"is-checked":""} ${k(r)?"is-first-child":""} ${k(d)?"is-last-child":""} ${k(B)?"is-inline":""} ${"button"===k(q)?"is-button":""} ${k(j)?"is-disabled":""} ${k(N)?"is-"+k(N):""} ${e.customClass}`),style:y(e.customStyle),onClick:O},{default:g((()=>["button"!==k(q)?(x(),f(a,{key:0,class:V(`wd-checkbox__shape ${"square"===k(q)?"is-square":""} ${e.customShapeClass}`),style:y(k(n)&&!k(j)&&k(G)?"color :"+k(G):"")},{default:g((()=>[v(l,{"custom-class":"wd-checkbox__check",name:"check-bold",size:"14px"})])),_:1},8,["class","style"])):$("",!0),v(a,{class:V(`wd-checkbox__label ${e.customLabelClass}`),style:y(k(n)&&"button"===k(q)&&!k(j)&&k(G)?"color:"+k(G):"")},{default:g((()=>["button"===k(q)&&k(n)?(x(),f(l,{key:0,"custom-class":"wd-checkbox__btn-check",name:"check-bold",size:"14px"})):$("",!0),v(a,{class:"wd-checkbox__txt",style:y(e.maxWidth?"max-width:"+e.maxWidth:"")},{default:g((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-629909f5"]]),j=u(d({name:"wd-checkbox-group",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:q,emits:["change","update:modelValue"],setup(e,{emit:s}){const l=e,{linkChildren:a}=w(z);return a({props:l,changeSelectState:function(e){const a=n(l.modelValue),o=a.indexOf(e);o>-1?a.splice(o,1):a.push(e);s("update:modelValue",a),s("change",{value:a})}}),p((()=>l.modelValue),(e=>{new Set(e).size!==e.length&&console.error("checkboxGroup's bound value includes same value"),e.length<l.min&&console.error("checkboxGroup's bound value's length can't be less than min"),0!==l.max&&e.length>l.max&&console.error("checkboxGroup's bound value's length can't be large than max")}),{deep:!0,immediate:!0}),p((()=>l.shape),(e=>{const s=["circle","square","button"];-1===s.indexOf(e)&&console.error(`shape must be one of ${s.toString()}`)}),{deep:!0,immediate:!0}),p((()=>l.min),(e=>{r(e,"min")}),{deep:!0,immediate:!0}),p((()=>l.max),(e=>{r(e,"max")}),{deep:!0,immediate:!0}),(e,s)=>{const l=_;return x(),f(l,{class:V(`wd-checkbox-group ${"button"===e.shape&&e.cell?"is-button":""} ${e.customClass}`),style:y(e.customStyle)},{default:g((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-27e032dc"]]);export{G as _,j as a};
