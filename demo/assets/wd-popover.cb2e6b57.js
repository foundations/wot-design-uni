import{d as e,P as o,q as s,m as t,N as a,Z as l,h as n,j as c,o as u,c as p,w as r,a as d,n as i,b as m,t as _,p as y,e as v,F as w,f,u as k,x as C,z as h,T as b,y as S,i as g,g as V}from"./index-bc8b5b89.js";import{g as j,m as $,h as x,i as A,b as P,q as T,l as Q,a as q}from"./page-wraper.7cfd0783.js";import{u as F}from"./usePopover.f600fe30.js";import{r as O,q as I,c as z,p as G}from"./clickoutside.5ec67e1b.js";const H=q(e({name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...j,customArrow:$(""),customPop:$(""),visibleArrow:x(!0),content:[String,Object],placement:$("bottom"),offset:A(0),useContentSlot:x(!1),disabled:x(!1),showClose:x(!1),modelValue:x(!1),mode:$("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:j,emit:$}){const x=e,A=o(I,null),{proxy:q}=S();s((()=>x.content),(e=>{const{mode:o}=x;"normal"===o&&"string"!=typeof e?console.error("The value type must be a string type in normal mode"):"menu"!==o||Q(e)||console.error("The value type must be a Array type in menu mode")})),s((()=>x.modelValue),(e=>{e&&(H.control(x.placement,x.offset),A&&A.closeOther?A.closeOther(q):z(q)),H.showStyle.value=e?"display: inline-block;":"display: none;",$("change",{show:e}),$(""+(e?"open":"close"))})),t((()=>{H.init(x.placement,x.visibleArrow,"popover")})),a((()=>{A&&A.pushToQueue?A.pushToQueue(q):G(q),H.showStyle.value=x.modelValue?"opacity: 1;":"opacity: 0;"})),l((()=>{A&&A.removeFromQueue?A.removeFromQueue(q):O(q)}));const H=F();function N(e){$("update:modelValue",!1),$("menuclick",{item:x.content[e],index:e})}function Z(){x.disabled||$("update:modelValue",!x.modelValue)}return j({open:function(){$("update:modelValue",!0)},close:function(){$("update:modelValue",!1)}}),(e,o)=>{const s=g,t=n(c("wd-icon"),P),a=V,l=n(c("wd-transition"),T);return u(),p(s,{class:i(`wd-popover ${e.customClass}`),style:C(e.customStyle),id:"popover",onClick:b(k(H).noop,["stop"])},{default:r((()=>[d(s,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:r((()=>[d(s,{class:i(`wd-popover__container ${e.customPop}`)},{default:r((()=>[e.useContentSlot||"normal"!==e.mode?y("",!0):(u(),p(s,{key:0,class:"wd-popover__inner"},{default:r((()=>[m(_(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?y("",!0):(u(),p(s,{key:1,class:"wd-popover__menu"},{default:r((()=>[(u(!0),v(w,null,f(e.content,((e,o)=>(u(),p(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>N(o)},{default:r((()=>[e.iconClass?(u(),p(t,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):y("",!0),d(a,null,{default:r((()=>[m(_(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),d(l,{"custom-class":"wd-popover__pos","custom-style":k(H).popStyle.value,show:e.modelValue,name:"fade",duration:200},{default:r((()=>[d(s,{class:i(`wd-popover__container ${e.customPop}`)},{default:r((()=>[x.visibleArrow?(u(),p(s,{key:0,class:i(`wd-popover__arrow ${k(H).arrowClass.value} ${e.customArrow}`),style:C(k(H).arrowStyle.value)},null,8,["class","style"])):y("",!0),e.useContentSlot||"normal"!==e.mode?y("",!0):(u(),p(s,{key:1,class:"wd-popover__inner"},{default:r((()=>[m(_(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?h(e.$slots,"content",{key:3},void 0,!0):(u(),p(s,{key:2,class:"wd-popover__menu"},{default:r((()=>[(u(!0),v(w,null,f(e.content,((e,o)=>(u(),p(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>N(o),style:C(0===o?"border-top: none":"")},{default:r((()=>["object"==typeof e&&e.iconClass?(u(),p(t,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):y("",!0),d(s,{style:{display:"inline-block"}},{default:r((()=>[m(_("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(u(),p(t,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:Z})):y("",!0)])),_:3},8,["custom-style","show"]),d(s,{onClick:Z,class:"wd-popover__target",id:"target"},{default:r((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-2648a49a"]]);export{H as _};
